LCD_STATUS 	EQU 0FF2EH
LCD_CMD_WR	EQU 0FF2CH 
LCD_DANE_WR EQU 0FF2DH 

LCD_INICJ 	EQU 038H
LCD_CLR 	EQU 001H
LCD_HOME 	EQU 080H
LCD_ON 		EQU	00EH	

ORG 0

	MOV		A, #LCD_INICJ
	CALL	LCD_KOMENDA

	MOV		A, #LCD_CLR			  	
	CALL	LCD_KOMENDA

	;MOV		A, #LCD_ON
	;CALL	LCD_KOMENDA

	;MOV		A, #LCD_HOME
	;CALL	LCD_KOMENDA



	MOV		A, #38H
	CALL	LCD_DANE


	SJMP $

;------------------------------------------------
LCD_KOMENDA:
	MOV DPTR, #LCD_STATUS
	PUSH ACC

PETLA:
	MOVX A, @DPTR
	JB ACC.7, PETLA

	POP ACC
	MOV DPTR, #LCD_CMD_WR
	MOVX @DPTR, A
 	RET


LCD_DANE:
	MOV DPTR, #LCD_STATUS
	PUSH ACC

PETLA1:
	MOVX A, @DPTR
	JB ACC.7, PETLA1

	POP ACC
	MOV DPTR, #LCD_DANE_WR
	MOVX @DPTR, A
 	RET

END